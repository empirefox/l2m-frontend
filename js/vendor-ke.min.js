!function(t){"use strict";var e=t.module("angularSpectrumColorpicker",[]);!function(n){e.directive("spectrumColorpicker",function(){return{restrict:"E",require:"ngModel",scope:!1,replace:!0,template:'<span><input class="input-small" /></span>',link:function(e,r,i,o){function a(e){var n=c;e?n=e.toString(u):t.isUndefined(c)&&(n=e),o.$setViewValue(n)}var s=r.find("input"),c=e.$eval(i.fallbackValue),u=e.$eval(i.format)||n,l=function(t){e.$apply(function(){a(t)})},d=function(){return s.spectrum("toggle"),!1},p=t.extend({color:o.$viewValue,change:l,move:l,hide:l},e.$eval(i.options));i.triggerId&&t.element(document.body).on("click","#"+i.triggerId,d),o.$render=function(){s.spectrum("set",o.$viewValue||"")},p.color&&(s.spectrum("set",p.color||""),a(p.color)),s.spectrum(p),e.$on("$destroy",function(){s.spectrum("destroy")})}}})}()}(window.angular),window.Messenger=function(){function t(t,e){var n="";if(arguments.length<2?n="target error - target and name are both requied":"object"!=typeof t?n="target error - target itself must be window object":"string"!=typeof e&&(n="target error - target name must be string type"),n)throw new Error(n);this.target=t,this.name=e}function e(t){this.targets={},this.name=t,this.listenFunc=[],this.initListen()}var n="[PROJECT_NAME]",r="postMessage"in window;return t.prototype.send=r?function(t){this.target.postMessage(n+t,"*")}:function(t){var e=window.navigator[n+this.name];if("function"!=typeof e)throw new Error("target callback function is not defined");e(n+t,window)},e.prototype.addTarget=function(e,n){var r=new t(e,n);this.targets[n]=r},e.prototype.initListen=function(){var t=this,e=function(e){"object"==typeof e&&e.data&&(e=e.data),e=e.slice(n.length);for(var r=0;r<t.listenFunc.length;r++)t.listenFunc[r](e)};r?"addEventListener"in document?window.addEventListener("message",e,!1):"attachEvent"in document&&window.attachEvent("onmessage",e):window.navigator[n+this.name]=e},e.prototype.listen=function(t){this.listenFunc.push(t)},e.prototype.clear=function(){this.listenFunc=[]},e.prototype.send=function(t){var e,n=this.targets;for(e in n)n.hasOwnProperty(e)&&n[e].send(t)},e}();